scalar Date
scalar ObjectId

enum UserRole {
  user
  admin
  moderator
  dev
}

enum SortOrder {
  ASC
  DESC
}

type PageInfo {
  endCursor: String
  hasNextPage: Boolean!
}

type PaginatedUsers {
  items: [User!]!
  pageInfo: PageInfo!
}

type User {
  _id: ObjectId!
  userId: String!
  username: String!
  firstName: String!
  lastName: String!
  fullName: String!
  email: String!
  bio: String
  avatarUrl: String
  karma: Int
  role: UserRole
  posts: [ObjectId!]
  likedPosts: [ObjectId!]
  savedPosts: [ObjectId!]
  following: [ObjectId!]
  followers: [ObjectId!]
  comments: [ObjectId!]
  likedComments: [ObjectId!]
  createdAt: Date!
  updatedAt: Date!
}

type Query {
  users(
    _idArray: [ObjectId]
    userId: String
    username: String
    name: String
    role: UserRole
    sort: String
    order: SortOrder
    first: Int
    after: String
  ): PaginatedUsers!
  user(userId: String, username: String, name: String, _id: ObjectId): User
}

type Mutation {
  createUser(
    userId: String!
    username: String!
    firstName: String!
    lastName: String!
    fullName: String!
    email: String!
    bio: String
    avatarUrl: String
  ): User!
}
